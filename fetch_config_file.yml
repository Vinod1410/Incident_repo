---
- name: Fetch Server Config File from GitHub
  hosts: localhost
  gather_facts: false

  tasks:

    - name: Fetch config file from GitHub
      uri:
        url: "https://github.com/Vinod1410/Incident_repo/blob/main/server_data.csv"
        method: GET
      register: server_details


    - name: Assign registered output to dictionary variable
      set_fact:
        my_dict: "{{ server_details.stdout | from_yaml }}"

    - name: Display dictionary variable
      debug:
        var: my_dict
        
    
      

    # Optionally, you can add more tasks here to process or deploy the fetched config file
